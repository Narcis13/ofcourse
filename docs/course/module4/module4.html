<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4: Your AI Apprentice - Supercharging Your Workflow</title>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #a78bfa;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f3f4f6;
            --white: #ffffff;
            --code-bg: #1e293b;
            --border: #e5e7eb;
        }

        /* Dark mode variables */
        body.dark-mode {
            --dark: #f3f4f6;
            --light: #1f2937;
            --white: #111827;
            --border: #374151;
            --code-bg: #0f172a;
            background: #0f172a;
            color: #f3f4f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }

        /* Header Styles */
        .header {
            background: var(--white);
            border-bottom: 2px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.25rem;
        }

        .header-subtitle {
            color: var(--dark);
            opacity: 0.8;
            font-size: 1.1rem;
        }

        .theme-toggle {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: background 0.3s;
        }

        .theme-toggle:hover {
            background: var(--primary-dark);
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 4px;
            background: var(--border);
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s;
        }

        /* Main Layout */
        .container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            min-height: calc(100vh - 120px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            padding: 2rem;
            background: var(--white);
            border-right: 1px solid var(--border);
            overflow-y: auto;
            position: sticky;
            top: 120px;
            height: calc(100vh - 120px);
        }

        .sidebar nav a {
            display: block;
            padding: 0.75rem 1rem;
            margin: 0.25rem 0;
            color: var(--dark);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .sidebar nav a:hover {
            background: var(--light);
            color: var(--primary);
            transform: translateX(5px);
        }

        .sidebar nav a.active {
            background: var(--primary);
            color: white;
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 2rem;
            max-width: 800px;
        }

        .lesson-section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .lesson-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lesson-section h2 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .lesson-section h3 {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .lesson-section p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        /* Interactive Elements */
        .try-it-box {
            background: var(--white);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .try-it-box h4 {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .code-editor {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            background: var(--code-bg);
            color: #e2e8f0;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin: 1rem 0;
            resize: vertical;
        }

        .run-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .run-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .output-box {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            min-height: 80px;
            font-family: monospace;
            white-space: pre-wrap;
        }

        /* Code Blocks */
        .code-block {
            position: relative;
            background: var(--code-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background 0.3s;
        }

        .copy-button:hover {
            background: var(--primary-dark);
        }

        /* Quiz Styles */
        .quiz-container {
            background: var(--white);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .quiz-question {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .quiz-option {
            display: block;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            background: var(--light);
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            background: var(--primary);
            color: white;
            transform: translateX(5px);
        }

        .quiz-option input {
            margin-right: 0.5rem;
        }

        .quiz-result {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            display: none;
        }

        .quiz-result.correct {
            background: var(--success);
            color: white;
            display: block;
        }

        .quiz-result.incorrect {
            background: var(--danger);
            color: white;
            display: block;
        }

        /* Spoiler/Hint */
        .spoiler {
            background: var(--white);
            border: 2px solid var(--secondary);
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow: hidden;
        }

        .spoiler-header {
            background: var(--secondary);
            color: white;
            padding: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }

        .spoiler-header:hover {
            background: var(--primary);
        }

        .spoiler-content {
            padding: 1rem;
            display: none;
        }

        .spoiler-content.show {
            display: block;
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid var(--border);
        }

        .nav-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        /* Achievement Popup */
        .achievement {
            position: fixed;
            top: -200px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 2rem 3rem;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            text-align: center;
            transition: top 0.5s;
            z-index: 1000;
        }

        .achievement.show {
            top: 100px;
        }

        .achievement h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* Comparison Tables */
        .comparison-table {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .good {
            color: var(--success);
            font-weight: 600;
        }

        .bad {
            color: var(--danger);
            font-weight: 600;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding: 1rem;
            }

            .content {
                padding: 1rem;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .lesson-section h2 {
                font-size: 2rem;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-button {
                width: 100%;
                text-align: center;
            }
        }

        /* Workflow Builder */
        .workflow-builder {
            background: var(--white);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .workflow-step {
            background: var(--light);
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            cursor: move;
            transition: all 0.3s;
        }

        .workflow-step:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .workflow-step.dragging {
            opacity: 0.5;
        }

        /* Prompt Examples */
        .prompt-example {
            background: var(--white);
            border-left: 4px solid var(--primary);
            border-radius: 0 8px 8px 0;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .prompt-example.good {
            border-left-color: var(--success);
        }

        .prompt-example.bad {
            border-left-color: var(--danger);
        }

        .prompt-example h5 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .prompt-example.good h5 {
            color: var(--success);
        }

        .prompt-example.bad h5 {
            color: var(--danger);
        }

        /* Error Patterns */
        .error-pattern {
            background: #fee;
            border: 2px solid #fcc;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .error-pattern h5 {
            color: var(--danger);
            margin-bottom: 0.5rem;
        }

        /* Checklist */
        .checklist {
            background: var(--white);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 1rem;
            cursor: pointer;
        }

        .checklist-item label {
            cursor: pointer;
            flex: 1;
        }

        .checklist-item input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div>
                <h1>Module 4: Your AI Apprentice 🤖</h1>
                <div class="header-subtitle">Learn to code 10x faster (without becoming dependent!)</div>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span class="toggle-icon">🌙</span>
            </button>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <nav id="lessonNav">
                <a href="#" onclick="showSection(0)" class="active">🚀 Introduction</a>
                <a href="#" onclick="showSection(1)">📝 Prompt Engineering</a>
                <a href="#" onclick="showSection(2)">✅ Verification Checklist</a>
                <a href="#" onclick="showSection(3)">🐛 AI Debugging</a>
                <a href="#" onclick="showSection(4)">🧠 Learning Patterns</a>
                <a href="#" onclick="showSection(5)">🛠️ Workflow Rules</a>
                <a href="#" onclick="showSection(6)">🎯 Practice Projects</a>
                <a href="#" onclick="showSection(7)">🏁 Module Complete</a>
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="content">
            <!-- Section 0: Introduction -->
            <section class="lesson-section active" id="section-0">
                <h2>🚀 Welcome to Your AI Coding Journey!</h2>
                <p>Imagine having a super-smart coding buddy who knows every programming language, never gets tired, and can explain things instantly. That's what AI can be for you! But here's the thing - just like using autocorrect doesn't make you a great writer, using AI won't automatically make you a great coder.</p>
                
                <p>In this module, you'll learn to use AI as a TOOL, not a crutch. Think of it like learning to drive with GPS - helpful, but you still need to know how to drive!</p>

                <div class="try-it-box">
                    <h4>🎮 Your First AI Interaction!</h4>
                    <p>Let's start with something simple. Pretend you're asking AI to help you create a greeting function. Type your request below:</p>
                    <textarea class="code-editor" id="firstPrompt">Hey AI, can you help me write a function that says hello?</textarea>
                    <button class="run-button" onclick="simulateAIResponse('firstPrompt', 'firstOutput')">
                        ▶️ Simulate AI Response
                    </button>
                    <div class="output-box" id="firstOutput">AI response will appear here...</div>
                </div>

                <h3>What You'll Master in This Module</h3>
                <ul style="font-size: 1.1rem; line-height: 1.8;">
                    <li>🎯 <strong>Prompt Engineering</strong> - Ask the right questions to get the right code</li>
                    <li>🔍 <strong>Code Verification</strong> - Never trust, always verify!</li>
                    <li>🐛 <strong>AI Debugging</strong> - Find and fix AI's mistakes</li>
                    <li>📚 <strong>Learning Patterns</strong> - Use AI to understand, not just copy</li>
                    <li>⚡ <strong>Workflow Optimization</strong> - Code 10x faster while learning 10x more</li>
                </ul>

                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Why This Module Matters
                    </div>
                    <div class="spoiler-content">
                        <p>By 2025, over 80% of code will be written with AI assistance. Learning to work WITH AI now gives you a massive advantage. But more importantly, knowing how to verify and understand AI-generated code makes you a REAL developer, not just a copy-paster!</p>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" style="visibility: hidden;">← Previous</button>
                    <button class="nav-button" onclick="showSection(1)">Next: Prompt Engineering →</button>
                </div>
            </section>

            <!-- Section 1: Prompt Engineering -->
            <section class="lesson-section" id="section-1">
                <h2>📝 Prompt Engineering - Get Better Code with Better Questions</h2>
                <p>The secret to getting amazing code from AI? Ask amazing questions! It's like the difference between googling "food" vs "easy 20-minute pasta recipes for beginners". Let's level up your prompt game!</p>

                <h3>The Anatomy of a Perfect Prompt</h3>
                <div class="prompt-example good">
                    <h5>✅ Good Prompt Example</h5>
                    <pre>"Create a JavaScript function that validates email addresses. 
It should:
- Accept a string parameter
- Return true/false
- Check for @ symbol and domain
- Handle edge cases like empty strings
- Include comments explaining the regex"</pre>
                </div>

                <div class="prompt-example bad">
                    <h5>❌ Bad Prompt Example</h5>
                    <pre>"make email checker"</pre>
                </div>

                <div class="comparison-table">
                    <table>
                        <tr>
                            <th>Prompt Element</th>
                            <th>Why It Matters</th>
                            <th>Example</th>
                        </tr>
                        <tr>
                            <td><strong>Language/Tech</strong></td>
                            <td>AI supports 100+ languages</td>
                            <td>"In JavaScript..." or "Using Python 3..."</td>
                        </tr>
                        <tr>
                            <td><strong>Specific Task</strong></td>
                            <td>Clear goals = better code</td>
                            <td>"Create a function that..." not just "make"</td>
                        </tr>
                        <tr>
                            <td><strong>Requirements</strong></td>
                            <td>Lists prevent missing features</td>
                            <td>"It should: • validate • return bool • handle errors"</td>
                        </tr>
                        <tr>
                            <td><strong>Context</strong></td>
                            <td>Helps AI understand use case</td>
                            <td>"For a contact form..." or "For user registration..."</td>
                        </tr>
                        <tr>
                            <td><strong>Style Preferences</strong></td>
                            <td>Gets code that matches your project</td>
                            <td>"Use arrow functions" or "Include JSDoc comments"</td>
                        </tr>
                    </table>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Prompt Practice: Password Validator</h4>
                    <p>Write a detailed prompt to get AI to create a password strength checker. Include at least 3 specific requirements!</p>
                    <textarea class="code-editor" id="promptPractice">Write your detailed prompt here...

Example start: "Create a JavaScript function called checkPasswordStrength that..."</textarea>
                    <button class="run-button" onclick="checkPromptQuality('promptPractice', 'promptOutput')">
                        ▶️ Check Prompt Quality
                    </button>
                    <div class="output-box" id="promptOutput">Your prompt score will appear here...</div>
                </div>

                <h3>Prompt Templates for Common Tasks</h3>
                <div class="code-block">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre>// 🐛 Debugging Template
"I have this error: [ERROR MESSAGE]
In this code: [CODE]
When I: [WHAT YOU DID]
Expected: [WHAT SHOULD HAPPEN]
Please explain why and how to fix it."

// 🏗️ Building Template  
"Create a [LANGUAGE] [TYPE] that:
- [REQUIREMENT 1]
- [REQUIREMENT 2]
- [REQUIREMENT 3]
Context: [WHERE/HOW IT'S USED]
Style: [ANY PREFERENCES]"

// 📚 Learning Template
"Explain this code line by line:
[CODE]
Use simple terms and analogies.
Focus on: [CONCEPT YOU'RE LEARNING]"</pre>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question">Which prompt will get you the BEST code from AI?</div>
                    <label class="quiz-option" onclick="checkQuiz(this, 'c')">
                        <input type="radio" name="q1" value="a"> "write a sorting function"
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'c')">
                        <input type="radio" name="q1" value="b"> "JavaScript sort array"
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'c')">
                        <input type="radio" name="q1" value="c"> "Create a JavaScript function that sorts an array of objects by a 'date' property, handling invalid dates"
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'c')">
                        <input type="radio" name="q1" value="d"> "sort stuff by date plz"
                    </label>
                    <div class="quiz-result" id="q1-result"></div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(0)">← Previous</button>
                    <button class="nav-button" onclick="showSection(2)">Next: Verification →</button>
                </div>
            </section>

            <!-- Section 2: Verification Checklist -->
            <section class="lesson-section" id="section-2">
                <h2>✅ The Verification Checklist - Never Trust, Always Verify!</h2>
                <p>AI is like that friend who's super confident but sometimes completely wrong. They'll tell you with 100% certainty that 2+2=5. That's why we ALWAYS verify AI code before using it!</p>

                <h3>The Golden Rules of AI Code Verification</h3>
                <div class="checklist">
                    <h4>Before Using ANY AI Code:</h4>
                    <div class="checklist-item">
                        <input type="checkbox" id="check1">
                        <label for="check1">Does it actually run without errors?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check2">
                        <label for="check2">Does it do what you asked for?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check3">
                        <label for="check3">Do you understand how it works?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check4">
                        <label for="check4">Is it secure (no exposed passwords/keys)?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check5">
                        <label for="check5">Does it handle edge cases?</label>
                    </div>
                </div>

                <h3>Spot the AI Mistakes!</h3>
                <p>AI often makes these common errors. Can you spot them?</p>

                <div class="try-it-box">
                    <h4>🎮 Bug Hunt #1: Array Sum Function</h4>
                    <p>AI wrote this function to sum an array. Find the bug!</p>
                    <textarea class="code-editor" id="bugHunt1">function sumArray(arr) {
    let sum = 0;
    for (let i = 0; i <= arr.length; i++) {
        sum += arr[i];
    }
    return sum;
}

// Test it:
console.log(sumArray([1, 2, 3, 4, 5])); // Should be 15</textarea>
                    <button class="run-button" onclick="runBuggyCode('bugHunt1', 'bugOutput1')">
                        ▶️ Run Code
                    </button>
                    <div class="output-box" id="bugOutput1">Output will appear here...</div>
                </div>

                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Hint: Check the loop condition
                    </div>
                    <div class="spoiler-content">
                        <p>The bug is <code>i <= arr.length</code> which should be <code>i < arr.length</code>. Arrays are zero-indexed, so the last index is length-1. This causes it to access arr[5] which is undefined, adding NaN to the sum!</p>
                    </div>
                </div>

                <div class="error-pattern">
                    <h5>⚠️ Common AI Error Pattern #1: Off-by-One Errors</h5>
                    <p>AI often messes up array boundaries. Always check:</p>
                    <ul>
                        <li>Loop conditions (< vs <=)</li>
                        <li>Array indexing (starts at 0!)</li>
                        <li>String slicing boundaries</li>
                    </ul>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Bug Hunt #2: Email Validator</h4>
                    <p>AI wrote this email validator. What's wrong with it?</p>
                    <textarea class="code-editor" id="bugHunt2">function isValidEmail(email) {
    // Check if email contains @ and .
    if (email.includes('@') && email.includes('.')) {
        return true;
    }
    return false;
}

// Test cases:
console.log(isValidEmail('user@example.com')); // Should be true
console.log(isValidEmail('invalid.email')); // Should be false
console.log(isValidEmail('@.')); // Should be false
console.log(isValidEmail('user@.com')); // Should be false</textarea>
                    <button class="run-button" onclick="runBuggyCode('bugHunt2', 'bugOutput2')">
                        ▶️ Run Code
                    </button>
                    <div class="output-box" id="bugOutput2">Output will appear here...</div>
                </div>

                <div class="error-pattern">
                    <h5>⚠️ Common AI Error Pattern #2: Oversimplification</h5>
                    <p>AI sometimes provides solutions that are TOO simple. The email validator above would accept "@." as valid! Always test edge cases.</p>
                </div>

                <h3>The Verification Workflow</h3>
                <div class="workflow-builder">
                    <h4>Build Your Verification Process:</h4>
                    <div class="workflow-step">1️⃣ Copy AI code to your editor</div>
                    <div class="workflow-step">2️⃣ Read through it line by line</div>
                    <div class="workflow-step">3️⃣ Run it with test data</div>
                    <div class="workflow-step">4️⃣ Test edge cases (empty, null, huge values)</div>
                    <div class="workflow-step">5️⃣ Check for security issues</div>
                    <div class="workflow-step">6️⃣ Refactor if needed</div>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question">What should you do FIRST when AI gives you code?</div>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q2" value="a"> Copy-paste it into your project
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q2" value="b"> Read and understand it
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q2" value="c"> Share it on social media
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q2" value="d"> Ask AI if it's correct
                    </label>
                    <div class="quiz-result" id="q2-result"></div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(1)">← Previous</button>
                    <button class="nav-button" onclick="showSection(3)">Next: AI Debugging →</button>
                </div>
            </section>

            <!-- Section 3: AI Debugging -->
            <section class="lesson-section" id="section-3">
                <h2>🐛 AI Debugging - When Robots Write Bugs</h2>
                <p>Plot twist: AI writes bugs too! But here's the cool part - learning to debug AI code makes you an AMAZING debugger of human code too. Let's become bug hunters!</p>

                <h3>Types of AI Bugs</h3>
                <div class="comparison-table">
                    <table>
                        <tr>
                            <th>Bug Type</th>
                            <th>How to Spot It</th>
                            <th>Example</th>
                        </tr>
                        <tr>
                            <td><strong>Logic Errors</strong></td>
                            <td>Code runs but gives wrong results</td>
                            <td>Returning max instead of min</td>
                        </tr>
                        <tr>
                            <td><strong>Edge Case Failures</strong></td>
                            <td>Breaks with unusual input</td>
                            <td>Crashes on empty arrays</td>
                        </tr>
                        <tr>
                            <td><strong>Type Confusion</strong></td>
                            <td>Mixes strings and numbers</td>
                            <td>"5" + 5 = "55" not 10</td>
                        </tr>
                        <tr>
                            <td><strong>Scope Issues</strong></td>
                            <td>Variables in wrong place</td>
                            <td>Using var instead of let/const</td>
                        </tr>
                        <tr>
                            <td><strong>Async Nightmares</strong></td>
                            <td>Promises and timing issues</td>
                            <td>Not awaiting async functions</td>
                        </tr>
                    </table>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Debug Challenge: Shopping Cart Calculator</h4>
                    <p>AI wrote this shopping cart total calculator. It has THREE bugs! Can you fix them all?</p>
                    <textarea class="code-editor" id="debugChallenge">function calculateTotal(cart) {
    let total = 0;
    
    // Calculate subtotal
    for (item of cart) {
        total += item.price * item.quantity;
    }
    
    // Apply discount if over $100
    if (total > 100) {
        total = total - (total * 0.1); // 10% discount
    }
    
    // Add tax (8%)
    total = total + 0.08;
    
    // Round to 2 decimal places
    return Math.round(total * 100) / 100;
}

// Test the function
const myCart = [
    { name: "T-shirt", price: 20, quantity: 2 },
    { name: "Jeans", price: 50, quantity: 1 },
    { name: "Shoes", price: 80, quantity: 1 }
];

console.log("Total: $" + calculateTotal(myCart));</textarea>
                    <button class="run-button" onclick="runBuggyCode('debugChallenge', 'debugOutput')">
                        ▶️ Run Buggy Code
                    </button>
                    <div class="output-box" id="debugOutput">See what happens...</div>
                </div>

                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Bug #1 Hint
                    </div>
                    <div class="spoiler-content">
                        <p>Look at the for loop - <code>for (item of cart)</code> creates a global variable! Should be <code>for (const item of cart)</code></p>
                    </div>
                </div>

                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Bug #2 Hint
                    </div>
                    <div class="spoiler-content">
                        <p>Check the tax calculation - it's adding 0.08 (8 cents) instead of 8% of the total! Should be <code>total = total * 1.08</code></p>
                    </div>
                </div>

                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Bug #3 Hint
                    </div>
                    <div class="spoiler-content">
                        <p>Order of operations matters! Tax should be applied AFTER the discount, not on the discounted amount.</p>
                    </div>
                </div>

                <h3>The Debugging Toolkit</h3>
                <div class="code-block">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre>// 🔍 Console Debugging Techniques
console.log('Variable value:', myVar);           // Basic logging
console.table(arrayOfObjects);                   // Pretty table view
console.time('MyOperation'); /* code */ console.timeEnd('MyOperation'); // Performance
console.trace();                                 // Stack trace

// 🎯 Strategic Debugging Points
function processData(input) {
    console.log('1. Input received:', input);    // Entry point
    
    const processed = transform(input);
    console.log('2. After transform:', processed); // After transformation
    
    if (!isValid(processed)) {
        console.error('3. Validation failed!', processed); // Error case
        return null;
    }
    
    const result = calculate(processed);
    console.log('4. Final result:', result);     // Before return
    return result;
}</pre>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Debugging Practice: Fix the Fibonacci</h4>
                    <p>AI tried to write a Fibonacci sequence generator. Debug and fix it!</p>
                    <textarea class="code-editor" id="fibDebug">function fibonacci(n) {
    if (n <= 1) return n;
    
    let sequence = [0, 1];
    
    for (let i = 2; i <= n; i++) {
        sequence[i] = sequence[i-1] + sequence[i-2];
    }
    
    return sequence;
}

// Should return [0, 1, 1, 2, 3, 5, 8]
console.log(fibonacci(7));</textarea>
                    <button class="run-button" onclick="runCode('fibDebug', 'fibOutput')">
                        ▶️ Run Code
                    </button>
                    <div class="output-box" id="fibOutput">Output will appear here...</div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(2)">← Previous</button>
                    <button class="nav-button" onclick="showSection(4)">Next: Learning Patterns →</button>
                </div>
            </section>

            <!-- Section 4: Learning Patterns -->
            <section class="lesson-section" id="section-4">
                <h2>🧠 Learning Patterns - Use AI to Understand, Not Just Complete</h2>
                <p>Here's the thing: You could use AI to do all your homework, but then what? You'd be like someone who used a calculator for everything and never learned math. Let's use AI the SMART way - to accelerate learning!</p>

                <h3>The Learning Loop</h3>
                <div class="workflow-builder">
                    <h4>The Perfect AI Learning Pattern:</h4>
                    <div class="workflow-step">1️⃣ Try to solve it yourself first (even if you fail!)</div>
                    <div class="workflow-step">2️⃣ Ask AI for a solution with explanation</div>
                    <div class="workflow-step">3️⃣ Compare your approach with AI's</div>
                    <div class="workflow-step">4️⃣ Ask AI to explain parts you don't understand</div>
                    <div class="workflow-step">5️⃣ Recreate the solution without looking</div>
                    <div class="workflow-step">6️⃣ Modify it to do something slightly different</div>
                </div>

                <h3>Learning Prompt Templates</h3>
                <div class="prompt-example good">
                    <h5>✅ Learning-Focused Prompts</h5>
                    <pre>"Explain this JavaScript concept like I'm 15:
[CONCEPT]
Use real-world analogies and simple examples."

"I wrote this code: [YOUR CODE]
You wrote this: [AI CODE]
Why is yours better? What can I learn?"

"Break down this algorithm step-by-step:
[ALGORITHM]
Show me what happens with input: [EXAMPLE]"</pre>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Learning Exercise: Array Methods</h4>
                    <p>Use AI to help you understand array methods. Write a learning-focused prompt!</p>
                    <textarea class="code-editor" id="learningPrompt">Write a prompt asking AI to explain map, filter, and reduce with teen-friendly examples.

Start with: "Explain JavaScript array methods map, filter, and reduce..."</textarea>
                    <button class="run-button" onclick="checkLearningPrompt('learningPrompt', 'learningOutput')">
                        ▶️ Check Prompt
                    </button>
                    <div class="output-box" id="learningOutput">Feedback will appear here...</div>
                </div>

                <h3>The "Explain Like I'm 15" Technique</h3>
                <p>This is your SECRET WEAPON for understanding complex code!</p>

                <div class="code-block">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre>// Complex code you don't understand:
const memoize = (fn) => {
  const cache = {};
  return (...args) => {
    const key = JSON.stringify(args);
    if (key in cache) {
      return cache[key];
    }
    const result = fn(...args);
    cache[key] = result;
    return result;
  };
};

// Your learning prompt:
"Explain this memoize function like I'm 15:
- What problem does it solve?
- Use a real-world analogy
- Show me a simple example of using it
- Why would I want to use this?"</pre>
                </div>

                <h3>Building Mental Models</h3>
                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 The Restaurant Analogy for Functions
                    </div>
                    <div class="spoiler-content">
                        <p><strong>Functions are like restaurant orders:</strong></p>
                        <ul>
                            <li>📝 <strong>Parameters</strong> = Your order (what you ask for)</li>
                            <li>👨‍🍳 <strong>Function body</strong> = Kitchen (where the work happens)</li>
                            <li>🍕 <strong>Return value</strong> = Your food (what you get back)</li>
                            <li>🧾 <strong>Side effects</strong> = Changes to the restaurant (like using ingredients)</li>
                        </ul>
                        <p>Use analogies like this to understand concepts deeply!</p>
                    </div>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question">What's the BEST way to use AI for learning?</div>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q3" value="a"> Copy AI code and move on quickly
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q3" value="b"> Try first, then use AI to understand why their solution works
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q3" value="c"> Only use AI when completely stuck
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'b')">
                        <input type="radio" name="q3" value="d"> Never look at AI solutions
                    </label>
                    <div class="quiz-result" id="q3-result"></div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(3)">← Previous</button>
                    <button class="nav-button" onclick="showSection(5)">Next: Workflow Rules →</button>
                </div>
            </section>

            <!-- Section 5: Workflow Rules -->
            <section class="lesson-section" id="section-5">
                <h2>🛠️ Your Personal AI Workflow Rules</h2>
                <p>Time to create YOUR rules for working with AI. These aren't just suggestions - they're your personal code of conduct that'll make you a better developer!</p>

                <h3>The Golden Rules</h3>
                <div class="checklist">
                    <h4>My AI Coding Principles:</h4>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule1">
                        <label for="rule1">I will ALWAYS understand code before using it</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule2">
                        <label for="rule2">I will test ALL AI code with edge cases</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule3">
                        <label for="rule3">I will try solving problems myself FIRST</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule4">
                        <label for="rule4">I will use AI to learn, not just to finish faster</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="rule5">
                        <label for="rule5">I will build my own code library, not just copy-paste</label>
                    </div>
                </div>

                <h3>When to Use AI vs. When to Code Yourself</h3>
                <div class="comparison-table">
                    <table>
                        <tr>
                            <th class="good">✅ Great for AI</th>
                            <th class="bad">❌ Do It Yourself</th>
                        </tr>
                        <tr>
                            <td>Boilerplate code (setup, configs)</td>
                            <td>Core business logic</td>
                        </tr>
                        <tr>
                            <td>Syntax reminders</td>
                            <td>Understanding new concepts</td>
                        </tr>
                        <tr>
                            <td>Bug explanations</td>
                            <td>Debugging practice</td>
                        </tr>
                        <tr>
                            <td>Code reviews and improvements</td>
                            <td>Initial problem solving</td>
                        </tr>
                        <tr>
                            <td>Documentation and comments</td>
                            <td>Learning fundamentals</td>
                        </tr>
                        <tr>
                            <td>Converting between languages</td>
                            <td>Algorithm design</td>
                        </tr>
                    </table>
                </div>

                <div class="try-it-box">
                    <h4>🎮 Create Your Workflow</h4>
                    <p>Design your personal AI workflow for building a new feature. What steps will YOU follow?</p>
                    <textarea class="code-editor" id="workflowDesign">My Personal AI Workflow for New Features:

1. Understand the requirements
2. [Add your step]
3. [Add your step]
4. [Add your step]
5. [Add your step]
6. [Add your step]
7. Deploy and celebrate! 🎉</textarea>
                    <button class="run-button" onclick="saveWorkflow('workflowDesign', 'workflowOutput')">
                        ▶️ Save My Workflow
                    </button>
                    <div class="output-box" id="workflowOutput">Your workflow will be saved...</div>
                </div>

                <h3>Real-World Workflow Example</h3>
                <div class="code-block">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre>// 🎯 Building a Todo App Feature

// Step 1: Understand requirements
"I need to add a due date feature to my todo app"

// Step 2: Plan the approach
"- Add date field to todo items
 - Show overdue items in red
 - Sort by due date"

// Step 3: Try implementing myself
function addDueDate(todo, date) {
    // My attempt...
}

// Step 4: Ask AI for improvements
"I wrote this due date function: [CODE]
How can I improve it? Consider:
- Date validation
- Timezone handling
- Edge cases"

// Step 5: Verify and test AI suggestions
// Step 6: Integrate and refactor
// Step 7: Document what I learned</pre>
                </div>

                <div class="prompt-example good">
                    <h5>✅ Workflow Success Story</h5>
                    <p><strong>Sarah's Approach:</strong> "I spent 30 minutes trying to build a color picker myself. Got stuck on hex conversion. Asked AI to explain hex to RGB conversion with examples. Understood it, then rebuilt my color picker from scratch. Now I actually understand color math!"</p>
                </div>

                <div class="prompt-example bad">
                    <h5>❌ Workflow Fail Story</h5>
                    <p><strong>Jake's Mistake:</strong> "I copy-pasted an entire authentication system from AI without understanding it. When it broke in production, I had no idea how to fix it. Had to learn it all under pressure. Never again!"</p>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(4)">← Previous</button>
                    <button class="nav-button" onclick="showSection(6)">Next: Practice Projects →</button>
                </div>
            </section>

            <!-- Section 6: Practice Projects -->
            <section class="lesson-section" id="section-6">
                <h2>🎯 Practice Projects - AI-Assisted Building</h2>
                <p>Time to put it all together! These projects are designed to teach you the perfect balance of using AI help while building your skills.</p>

                <h3>Project 1: Smart Password Generator</h3>
                <div class="try-it-box">
                    <h4>🎮 Build with AI Assistance</h4>
                    <p><strong>Requirements:</strong> Create a password generator that creates strong passwords based on user preferences.</p>
                    <p><strong>Your Mission:</strong> Write the prompt to get started, then verify and improve the AI's code!</p>
                    <textarea class="code-editor" id="project1">// Step 1: Write your prompt here
"Create a JavaScript password generator that..."

// The AI might give you something like:
function generatePassword(length, includeUppercase, includeLowercase, includeNumbers, includeSymbols) {
    // AI code will go here
}

// Step 2: Test it
// Step 3: Find issues
// Step 4: Improve it</textarea>
                    <button class="run-button" onclick="runCode('project1', 'project1Output')">
                        ▶️ Test Your Code
                    </button>
                    <div class="output-box" id="project1Output">Build and test your generator...</div>
                </div>

                <div class="checklist">
                    <h4>Project Checklist:</h4>
                    <div class="checklist-item">
                        <input type="checkbox" id="p1-1">
                        <label for="p1-1">Wrote detailed prompt with requirements</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="p1-2">
                        <label for="p1-2">Verified AI code works correctly</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="p1-3">
                        <label for="p1-3">Found and fixed at least one issue</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="p1-4">
                        <label for="p1-4">Added a feature AI didn't include</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="p1-5">
                        <label for="p1-5">Can explain how every line works</label>
                    </div>
                </div>

                <h3>Project 2: Expense Tracker</h3>
                <div class="prompt-example">
                    <h5>🎯 Challenge Level: Medium</h5>
                    <p><strong>Build an expense tracker that:</strong></p>
                    <ul>
                        <li>Adds expenses with categories</li>
                        <li>Calculates totals by category</li>
                        <li>Shows spending trends</li>
                        <li>Stores data in localStorage</li>
                    </ul>
                    <p><strong>AI Usage Rules:</strong></p>
                    <ul>
                        <li>✅ Use AI for localStorage syntax</li>
                        <li>✅ Use AI for date formatting</li>
                        <li>❌ Don't use AI for the main logic</li>
                        <li>❌ Don't copy-paste entire solution</li>
                    </ul>
                </div>

                <h3>Project 3: Code Snippet Manager</h3>
                <div class="prompt-example">
                    <h5>🎯 Challenge Level: Hard</h5>
                    <p><strong>Meta Project: Build a tool to save your favorite code snippets!</strong></p>
                    <ul>
                        <li>Save code snippets with tags</li>
                        <li>Search by tag or content</li>
                        <li>Copy snippets to clipboard</li>
                        <li>Syntax highlighting (ask AI how!)</li>
                        <li>Export/import functionality</li>
                    </ul>
                    <p><strong>Learning Goal:</strong> Use this to save all the useful code you learn!</p>
                </div>

                <div class="quiz-container">
                    <div class="quiz-question">After completing a project with AI help, you should:</div>
                    <label class="quiz-option" onclick="checkQuiz(this, 'd')">
                        <input type="radio" name="q4" value="a"> Move on to the next project immediately
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'd')">
                        <input type="radio" name="q4" value="b"> Delete the AI code and start over
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'd')">
                        <input type="radio" name="q4" value="c"> Share it without mentioning AI help
                    </label>
                    <label class="quiz-option" onclick="checkQuiz(this, 'd')">
                        <input type="radio" name="q4" value="d"> Rebuild it without looking to test understanding
                    </label>
                    <div class="quiz-result" id="q4-result"></div>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(5)">← Previous</button>
                    <button class="nav-button" onclick="showSection(7)">Complete Module! →</button>
                </div>
            </section>

            <!-- Section 7: Module Complete -->
            <section class="lesson-section" id="section-7">
                <h2>🏁 Module Complete - You're an AI-Powered Developer!</h2>
                <p>Congratulations! You've learned to harness the power of AI while staying in control. You're not just a coder who uses AI - you're a SMART coder who uses AI wisely!</p>

                <h3>What You've Mastered</h3>
                <div class="checklist">
                    <h4>Your New Superpowers:</h4>
                    <div class="checklist-item">
                        <input type="checkbox" checked disabled>
                        <label>Write prompts that get amazing code</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" checked disabled>
                        <label>Spot and fix AI mistakes like a pro</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" checked disabled>
                        <label>Use AI to learn faster, not just code faster</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" checked disabled>
                        <label>Build your own AI workflow rules</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" checked disabled>
                        <label>Debug any code - human or AI written</label>
                    </div>
                </div>

                <h3>Your AI Manifesto</h3>
                <div class="code-block">
                    <button class="copy-button" onclick="copyCode(this)">Copy</button>
                    <pre>// My Personal AI Coding Manifesto
const myRules = {
    learn: "I use AI to understand, not just complete",
    verify: "I test everything, trust nothing blindly",
    grow: "Each AI interaction makes me a better coder",
    create: "I build upon AI help, not depend on it",
    share: "I help others use AI responsibly"
};

// My commitment:
console.log("I am not a copy-paste coder.");
console.log("I am an AI-augmented developer.");
console.log("I understand what I build.");
console.log("I can code without AI, but choose to code with it.");
console.log("I am ready for the future! 🚀");</pre>
                </div>

                <h3>What's Next?</h3>
                <div class="spoiler">
                    <div class="spoiler-header" onclick="toggleSpoiler(this)">
                        💡 Your Next Steps
                    </div>
                    <div class="spoiler-content">
                        <ol>
                            <li><strong>Build something real:</strong> Use your new AI skills on your portfolio</li>
                            <li><strong>Teach someone:</strong> Show a friend how to use AI responsibly</li>
                            <li><strong>Level up:</strong> Try more complex prompts and projects</li>
                            <li><strong>Stay curious:</strong> AI is evolving - keep learning!</li>
                            <li><strong>Join the community:</strong> Share your AI workflow tips online</li>
                        </ol>
                    </div>
                </div>

                <div class="try-it-box" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h4>🎉 You Did It!</h4>
                    <p>You've completed Module 4 and learned to work WITH AI, not FOR AI. You're now part of the future of coding - developers who use AI as a powerful tool while maintaining their skills and understanding.</p>
                    <button class="run-button" style="background: white; color: #667eea;" onclick="completeModule()">
                        🏆 Claim Your Achievement!
                    </button>
                </div>

                <div class="nav-buttons">
                    <button class="nav-button" onclick="showSection(6)">← Previous</button>
                    <button class="nav-button" style="background: var(--success);" onclick="window.location.href='#'">
                        Next Module: JavaScript Fundamentals →
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Achievement Popup -->
    <div class="achievement" id="achievement">
        <h3>🏆 Achievement Unlocked!</h3>
        <p id="achievementText">AI Apprentice Master!</p>
    </div>

    <!-- JavaScript -->
    <script>
        // Track current section
        let currentSection = 0;
        const totalSections = 8;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved progress
            const savedSection = localStorage.getItem('module4_section');
            if (savedSection) {
                currentSection = parseInt(savedSection);
                showSection(currentSection);
            }

            // Load theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('.toggle-icon').textContent = '☀️';
            }
        });

        // Navigation and progress tracking
        function showSection(index) {
            // Hide all sections
            const sections = document.querySelectorAll('.lesson-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            sections[index].classList.add('active');
            
            // Update navigation
            updateNavigation(index);
            
            // Update progress
            currentSection = index;
            updateProgressBar();
            
            // Save progress
            localStorage.setItem('module4_section', index);
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function updateProgressBar() {
            const progress = ((currentSection + 1) / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateNavigation(index) {
            const navLinks = document.querySelectorAll('#lessonNav a');
            navLinks.forEach((link, i) => {
                link.classList.toggle('active', i === index);
            });
        }

        // Theme management
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.querySelector('.toggle-icon').textContent = isDark ? '☀️' : '🌙';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Code execution
        function runCode(editorId, outputId) {
            const code = document.getElementById(editorId).value;
            const output = document.getElementById(outputId);
            
            try {
                // Create a safer eval environment
                const logs = [];
                const customConsole = {
                    log: (...args) => logs.push(args.join(' '))
                };
                
                // Execute code with custom console
                const func = new Function('console', code);
                func(customConsole);
                
                output.textContent = logs.join('\n') || 'Code executed successfully!';
                output.style.color = 'var(--success)';
            } catch (error) {
                output.textContent = '❌ Error: ' + error.message;
                output.style.color = 'var(--danger)';
            }
        }

        // Simulate AI Response
        function simulateAIResponse(promptId, outputId) {
            const prompt = document.getElementById(promptId).value;
            const output = document.getElementById(outputId);
            
            // Simulate thinking...
            output.textContent = 'AI is thinking...';
            
            setTimeout(() => {
                if (prompt.toLowerCase().includes('hello')) {
                    output.textContent = `// Here's a greeting function for you!\n\nfunction greet(name) {\n    return "Hello, " + name + "! Welcome to coding!";\n}\n\n// Example usage:\nconsole.log(greet("Developer"));`;
                } else {
                    output.textContent = "Try asking for a specific function! For example: 'Help me write a function that says hello'";
                }
            }, 1000);
        }

        // Check prompt quality
        function checkPromptQuality(promptId, outputId) {
            const prompt = document.getElementById(promptId).value;
            const output = document.getElementById(outputId);
            let score = 0;
            let feedback = [];

            // Check for specificity
            if (prompt.includes('function') || prompt.includes('create')) score += 20;
            else feedback.push('Be more specific about what you want to create');

            // Check for requirements
            if ((prompt.match(/should/g) || []).length >= 3) score += 30;
            else feedback.push('Add more specific requirements (use "should")');

            // Check for language
            if (prompt.includes('JavaScript') || prompt.includes('JS')) score += 20;
            else feedback.push('Specify the programming language');

            // Check for context
            if (prompt.includes('password') && prompt.includes('strength')) score += 20;
            else feedback.push('Provide more context about the use case');

            // Check length
            if (prompt.length > 100) score += 10;

            output.innerHTML = `<strong>Prompt Score: ${score}/100</strong><br><br>`;
            if (score >= 80) {
                output.innerHTML += '🎉 Excellent prompt! This will get great results from AI.';
            } else {
                output.innerHTML += 'Suggestions to improve:<br>' + feedback.map(f => '• ' + f).join('<br>');
            }
        }

        // Run buggy code examples
        function runBuggyCode(editorId, outputId) {
            const code = document.getElementById(editorId).value;
            const output = document.getElementById(outputId);
            
            try {
                const logs = [];
                const customConsole = {
                    log: (...args) => logs.push(args.join(' '))
                };
                
                const func = new Function('console', code);
                func(customConsole);
                
                output.textContent = logs.join('\n');
                
                // Add hint about the bug
                if (editorId === 'bugHunt1' && logs[0].includes('NaN')) {
                    output.textContent += '\n\n🤔 Hmm, why is there NaN in the result?';
                }
            } catch (error) {
                output.textContent = '❌ Error: ' + error.message;
                output.style.color = 'var(--danger)';
            }
        }

        // Check learning prompt
        function checkLearningPrompt(promptId, outputId) {
            const prompt = document.getElementById(promptId).value;
            const output = document.getElementById(outputId);
            
            const hasAnalogy = prompt.includes('analogy') || prompt.includes('like') || prompt.includes('compare');
            const hasExample = prompt.includes('example') || prompt.includes('show');
            const isTeenFriendly = prompt.includes('teen') || prompt.includes('simple') || prompt.includes('15');
            
            if (hasAnalogy && hasExample && isTeenFriendly) {
                output.textContent = '🎯 Perfect learning prompt! This will help you understand deeply.';
                showAchievement('Learning Prompt Master!');
            } else {
                output.textContent = 'Good start! Consider adding:\n';
                if (!hasAnalogy) output.textContent += '• Real-world analogies\n';
                if (!hasExample) output.textContent += '• Request for examples\n';
                if (!isTeenFriendly) output.textContent += '• Teen-friendly language request\n';
            }
        }

        // Save workflow
        function saveWorkflow(editorId, outputId) {
            const workflow = document.getElementById(editorId).value;
            const output = document.getElementById(outputId);
            
            const steps = workflow.split('\n').filter(line => line.trim().match(/^\d+\./));
            
            if (steps.length >= 6) {
                localStorage.setItem('my_ai_workflow', workflow);
                output.textContent = '✅ Workflow saved! You have a ' + steps.length + '-step process. Well planned!';
                showAchievement('Workflow Designer!');
            } else {
                output.textContent = 'Add more steps! A good workflow needs at least 6 steps.';
            }
        }

        // Interactive features
        function copyCode(button) {
            const codeBlock = button.parentElement.querySelector('pre');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        function toggleSpoiler(header) {
            const content = header.nextElementSibling;
            content.classList.toggle('show');
        }

        function checkQuiz(option, correctAnswer) {
            const questionName = option.querySelector('input').name;
            const selectedValue = option.querySelector('input').value;
            const resultDiv = document.getElementById(questionName + '-result');
            
            if (selectedValue === correctAnswer) {
                resultDiv.textContent = '✅ Correct! Great job!';
                resultDiv.className = 'quiz-result correct';
                
                // Award achievement for first correct answer
                if (!localStorage.getItem('module4_quiz_' + questionName)) {
                    localStorage.setItem('module4_quiz_' + questionName, 'completed');
                    showAchievement('Quiz Master!');
                }
            } else {
                resultDiv.textContent = '❌ Not quite. Think about it and try again!';
                resultDiv.className = 'quiz-result incorrect';
            }
        }

        function showAchievement(text) {
            const achievement = document.getElementById('achievement');
            const achievementText = document.getElementById('achievementText');
            
            achievementText.textContent = text;
            achievement.classList.add('show');
            
            setTimeout(() => {
                achievement.classList.remove('show');
            }, 3000);
        }

        // Module completion
        function completeModule() {
            localStorage.setItem('module4_completed', 'true');
            showAchievement('Module 4 Complete! AI Apprentice Master! 🎉');
            
            // Confetti effect
            confetti();
        }

        // Simple confetti effect
        function confetti() {
            const colors = ['#6366f1', '#a78bfa', '#10b981', '#f59e0b'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.opacity = Math.random();
                confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                confetti.style.transition = 'all 3s ease-out';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.style.top = '100%';
                    confetti.style.transform = 'rotate(' + Math.random() * 720 + 'deg)';
                    confetti.style.opacity = '0';
                }, 100);
                
                setTimeout(() => {
                    confetti.remove();
                }, 3100);
            }
        }
    </script>
</body>
</html>